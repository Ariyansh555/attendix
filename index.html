<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATTENDIX - JCET Smart Attendance System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
         :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-purple: #9d00ff;
            --neon-green: #00ff00;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a1f;
            color: #fff;
            overflow-x: hidden;
            cursor: none;
        }
        /* Animated Background */
        
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: linear-gradient(45deg, #0a0a1f, #1a0a2e, #16213e);
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0%,
            100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%,
            100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.5);
            }
        }
        
        .meteor {
            position: absolute;
            width: 2px;
            height: 80px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8), transparent);
            animation: meteorFall 3s linear infinite;
        }
        
        @keyframes meteorFall {
            from {
                transform: translateX(0) translateY(-100px) rotate(45deg);
                opacity: 1;
            }
            to {
                transform: translateX(300px) translateY(300px) rotate(45deg);
                opacity: 0;
            }
        }
        /* Custom Cursor */
        
        #cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid var(--neon-blue);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s ease;
            mix-blend-mode: difference;
        }
        
        #cursorTrail {
            position: fixed;
            width: 8px;
            height: 8px;
            background: var(--neon-pink);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            opacity: 0.6;
        }
        /* Glassmorphism Container */
        
        .glass-container {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            animation: floatIn 0.8s ease;
        }
        
        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Header */
        
        header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }
        
        h1 {
            font-size: 4em;
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-pink), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 2s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
        }
        
        @keyframes glow {
            0%,
            100% {
                filter: brightness(1);
            }
            50% {
                filter: brightness(1.5);
            }
        }
        /* Navigation */
        
        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            padding: 30px;
        }
        
        .nav-btn {
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            color: white;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        .nav-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 40px rgba(0, 243, 255, 0.8);
        }
        
        .nav-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .nav-btn:active::before {
            width: 300px;
            height: 300px;
        }
        /* Main Container */
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        /* Clock Widget */
        
        .clock-widget {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .clock-time {
            font-size: 3em;
            font-weight: bold;
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
        }
        
        .clock-date {
            font-size: 1.2em;
            color: var(--neon-pink);
            margin-top: 10px;
        }
        /* Weather Widget */
        
        .weather-widget {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-around;
        }
        /* Student List */
        
        .student-list {
            margin-top: 20px;
        }
        
        .student-item {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .student-item:hover {
            transform: translateX(10px);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
        }
        
        .student-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .student-roll {
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        /* Attendance Button */
        
        .attendance-btn {
            background: linear-gradient(45deg, var(--neon-green), #00cc00);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
        }
        
        .attendance-btn.absent {
            background: linear-gradient(45deg, #ff3333, #cc0000);
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
        }
        
        .attendance-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.8);
        }
        
        .attendance-btn.absent:hover {
            box-shadow: 0 0 25px rgba(255, 0, 0, 0.8);
        }
        /* Toggle Switch */
        
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }
        
        input:checked+.slider {
            background: linear-gradient(45deg, var(--neon-green), #00cc00);
            box-shadow: 0 0 10px var(--neon-green);
        }
        
        input:checked+.slider:before {
            transform: translateX(26px);
        }
        /* Timetable */
        
        .timetable {
            overflow-x: auto;
            margin-top: 20px;
        }
        
        .timetable table {
            width: 100%;
            border-collapse: collapse;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
        }
        
        .timetable th,
        .timetable td {
            padding: 15px;
            text-align: center;
            border: 1px solid var(--glass-border);
        }
        
        .timetable th {
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            font-weight: bold;
        }
        
        .timetable td {
            background: rgba(255, 255, 255, 0.03);
            transition: all 0.3s ease;
        }
        
        .timetable td:hover {
            background: rgba(0, 243, 255, 0.1);
            transform: scale(1.05);
        }
        
        .current-class {
            background: linear-gradient(45deg, rgba(0, 255, 0, 0.2), rgba(0, 200, 0, 0.2)) !important;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%,
            100% {
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
        }
        
        .lab-class {
            background: linear-gradient(45deg, rgba(255, 0, 255, 0.2), rgba(157, 0, 255, 0.2));
        }
        /* Action Buttons */
        
        .action-btns {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .action-btn {
            background: linear-gradient(45deg, var(--neon-purple), var(--neon-pink));
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            color: white;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(157, 0, 255, 0.5);
        }
        
        .action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(157, 0, 255, 0.8);
        }
        /* Motivational Cards */
        
        .motivation-section {
            margin: 40px 0;
            overflow: hidden;
        }
        
        .card-scroll {
            display: flex;
            gap: 20px;
            animation: scroll 60s linear infinite;
        }
        
        @keyframes scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }
        
        .motivation-card {
            min-width: 300px;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
        }
        /* Book Cards */
        
        .book-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .book-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.4s ease;
            cursor: pointer;
        }
        
        .book-card:hover {
            transform: translateY(-10px) rotateY(5deg);
            box-shadow: 0 10px 40px rgba(255, 0, 255, 0.5);
        }
        /* Admin Panel */
        
        .login-form {
            max-width: 400px;
            margin: 100px auto;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 40px;
        }
        
        .login-form input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            color: white;
            font-size: 1em;
        }
        
        .login-form input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        /* Ripple Effect */
        
        .ripple {
            position: fixed;
            border-radius: 50%;
            background: rgba(0, 243, 255, 0.5);
            transform: scale(0);
            animation: ripple-animation 0.6s ease-out;
            pointer-events: none;
        }
        
        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        /* Attendance Stats */
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Search Box */
        
        .search-box {
            width: 100%;
            padding: 15px;
            margin: 20px 0;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            color: white;
            font-size: 1em;
        }
        
        .search-box::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        /* Floating Animation */
        
        .float {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%,
            100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }
        /* Loading Animation */
        
        .loading {
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            border: 4px solid rgba(0, 243, 255, 0.2);
            border-top: 4px solid var(--neon-blue);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        /* Mobile Responsive */
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }
            .clock-time {
                font-size: 2em;
            }
            .nav-btn {
                padding: 12px 20px;
                font-size: 0.9em;
            }
            .student-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            .timetable table {
                font-size: 0.8em;
            }
            body {
                cursor: auto;
            }
            #cursor,
            #cursorTrail {
                display: none;
            }
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        /* Small Mobile */
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2em;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .nav {
                padding: 15px;
                gap: 10px;
            }
            .nav-btn {
                padding: 10px 15px;
                font-size: 0.8em;
            }
        }
        /* Classroom Info */
        
        .classroom-info {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .info-label {
            font-size: 0.9em;
            color: var(--neon-pink);
        }
        
        .info-value {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--neon-blue);
        }
        /* Notification */
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 15px 20px;
            color: white;
            z-index: 10000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            border-left: 5px solid var(--neon-green);
        }
        
        .notification.error {
            border-left: 5px solid #ff3333;
        }
        /* Dark Mode */
        
        body.light-mode {
            background: #f0f0f0;
            color: #333;
        }
        
        body.light-mode .glass-container,
        body.light-mode .student-item,
        body.light-mode .clock-widget,
        body.light-mode .weather-widget,
        body.light-mode .stat-card,
        body.light-mode .motivation-card,
        body.light-mode .book-card {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(0, 0, 0, 0.1);
        }
        
        body.light-mode .timetable th {
            background: linear-gradient(45deg, #0077ff, #5500ff);
        }
    </style>
</head>

<body>
    <div id="starfield"></div>
    <div id="cursor"></div>
    <div id="cursorTrail"></div>

    <header>
        <h1 class="float">ATTENDIX</h1>
        <p style="font-size: 1.5em; color: var(--neon-pink);">JCET Smart Attendance System</p>
    </header>

    <nav>
        <button class="nav-btn" onclick="showPage('home')">Home</button>
        <button class="nav-btn" onclick="showPage('classA')">Classroom A</button>
        <button class="nav-btn" onclick="showPage('classB')">Classroom B</button>
        <button class="nav-btn" onclick="showPage('classC')">Classroom C</button>
        <button class="nav-btn" onclick="showPage('classD')">Classroom D</button>
        <button class="nav-btn" onclick="showPage('classE')">Classroom E</button>
        <button class="nav-btn" onclick="showPage('classF')">Classroom F</button>
        <button class="nav-btn" onclick="showPage('admin')">Admin</button>
    </nav>

    <div class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="glass-container">
                <h2 style="font-size: 2.5em; text-align: center; margin-bottom: 30px;">Welcome to ATTENDIX</h2>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">7</div>
                        <p>Classrooms</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalStudents">323</div>
                        <p>Total Students</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="presentToday">0</div>
                        <p>Present Today</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="attendancePercent">0%</div>
                        <p>Attendance</p>
                    </div>
                </div>

                <div class="motivation-section">
                    <h3 style="text-align: center; margin: 20px 0;">Daily Motivation</h3>
                    <div class="card-scroll" id="motivationScroll"></div>
                </div>

                <div style="margin-top: 40px;">
                    <h3 style="text-align: center; margin: 20px 0;">Recommended Books</h3>
                    <div class="book-grid" id="bookGrid"></div>
                </div>
            </div>
        </div>

        <!-- Classroom Pages -->
        <div id="classA" class="page"></div>
        <div id="classB" class="page"></div>
        <div id="classC" class="page"></div>
        <div id="classD" class="page"></div>
        <div id="classE" class="page"></div>
        <div id="classF" class="page"></div>

        <!-- Admin Page -->
        <div id="admin" class="page">
            <div class="login-form" id="loginForm">
                <h2 style="text-align: center; margin-bottom: 20px;">Admin Login</h2>
                <input type="text" id="adminUser" placeholder="Username" />
                <input type="password" id="adminPass" placeholder="Password" />
                <button class="action-btn" onclick="adminLogin()" style="width: 100%; margin-top: 20px;">Login</button>
            </div>
            <div id="adminPanel" style="display: none;">
                <div class="glass-container">
                    <h2>Admin Dashboard</h2>
                    <div class="action-btns">
                        <button class="action-btn" onclick="exportAllData()">Export All Data</button>
                        <button class="action-btn" onclick="clearAllData()">Clear All Data</button>
                        <button class="action-btn" onclick="backupData()">Backup Data</button>
                        <button class="action-btn" onclick="toggleDarkMode()">Toggle Dark/Light</button>
                        <button class="action-btn" onclick="adminLogout()">Logout</button>
                    </div>
                    <div id="adminStats"></div>
                    <div style="margin-top: 30px;">
                        <h3>Classroom Management</h3>
                        <select id="classroomSelect" style="width: 100%; padding: 10px; margin: 10px 0; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 10px; color: white;">
                            <option value="A">Classroom A</option>
                            <option value="B">Classroom B</option>
                            <option value="C">Classroom C</option>
                            <option value="D">Classroom D</option>
                            <option value="E">Classroom E</option>
                            <option value="F">Classroom F</option>
                        </select>
                        <button class="action-btn" onclick="editClassroom()" style="width: 100%;">Edit Selected Classroom</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <audio id="clickSound" src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUKXh8LVkHQU2kdXxzHktBSJ0yO/blEILFF619+2nVRQJRp3e9L1rIAUrlM3v24s4Bxhns+3mnU4LDlKm4O+0ZB4FNI/U8cx4LQUhcs7w3ZRCCxRdu/XtpVUVCkaa3/O+ayEFKpPM8NqLOAcXZrXu6J1NCw5Ro+Twt2QeBzWP1PHMeSwGH3DN8d2URAwUXLr07aRWFQlGmt/zvmogBiuSzPDajDgHF2az7uidTgsOUaPk77dkHgc1jtPxzXksBh9vzfHdlUQLFFu59OykVhUJR5rg8r9pIQYshMzw2Yw4BxZls+7onU4LDU+j5O+2ZB8HNI7T8c15LQYfb8zv3JRFDBQ="
        preload="auto"></audio>

    <script>
        // Global Data Storage
        const classroomsData = {
            A: {
                name: 'Classroom A',
                room: 'A-113',
                stream: 'CSE (Physics)',
                coordinator: 'Faculty A',
                students: [
                    'A01 Aditya S Chitragar', 'A02 Afiya M Rahut', 'A03 Afwan Mohammed A Arab', 'A04 Aishwarya A Sannakagoud',
                    'A05 Amit B Bhogar', 'A06 Amogh Pratpure', 'A07 Apoorva Angadi', 'A08 Avaneesh P Bhirdi',
                    'A09 Atanawaz Nishandar', 'A10 Basanagouda J Patil', 'A11 Bibi Ayesha Chavdari', 'A12 Chetan G Kuligod',
                    'A13 Danesh L Balnayakar', 'A14 Falak Inamdar', 'A15 Ganesh R Naik', 'A16 Hafsh Anjum Jalgar',
                    'A17 Haseebuddin I Shaikh', 'A18 Jabeen Poonawale', 'A19 Jitesh V Walvekar', 'A20 Lavanya M Nagathan',
                    'A21 M S Siri', 'A22 Maahin Nawab', 'A23 Mallikarjun B Chikkabasur', 'A24 Manasa',
                    'A25 Manasa Mannenavar', 'A26 Manoj G Rajkar', 'A27 Manthan T Patel', 'A28 Mohammed Abuzar Bepari',
                    'A29 N Soujanya', 'A30 Nikitha M Balagatti', 'A31 Ningangouda Patil', 'A32 NiranjanKumar M Hiremath',
                    'A33 Nayan G Naroote', 'A34 Pallavi S Badagi', 'A35 Prabhanjan R Gaddanakari', 'A36 Prachi L Pattar',
                    'A37 Prajwal A Ootawale', 'A38 Rajlaxmi Yawagal', 'A39 Rohit H Kabbur', 'A40 S Harish',
                    'A41 Safa D Shirur', 'A42 Samarth M Sullad', 'A43 Samruddhi M Balekundri', 'A44 Samrudh H Sunagar',
                    'A45 Sanchita N Dhavard', 'A46 Sangeeta B Sonappanavar', 'A47 Sanika M Bedare', 'A48 Sanjana',
                    'A49 Saqib Ali M Thasildar', 'A50 Shama Anjum S Mulla', 'A51 Soumya S Jambagi', 'A52 Sujal Nandgaon',
                    'A53 Sultan Bash J Lakkadahre', 'A54 Supriya M Chikkodi', 'A55 Tejas Dombi', 'A56 Tejasvini S Ramrath',
                    'A57 V Namrata', 'A58 Varamahalaxmi B', 'A59 Vijayalakshmi V Betadoor'
                ],
                timetable: [
                    ['MON', '1BCEDS103', '-', 'Tea', '1BMATS101', '1BPHYS102', 'Lunch', '1BPHYS102-A1 / 1BPOPL107-A2', '-', '-'],
                    ['TUE', '1BPHYS102', '1BESC104D', 'Tea', '1BMATS101-LAB', '-', 'Lunch', '1BEIT105', '1BSKS106', '-'],
                    ['WED', '1BPHYS102-A2 / 1BPOPL107-A3', '-', 'Tea', '1BESC104D', '1BMATS101', 'Lunch', '1BCEDS103', '-', '-'],
                    ['THU', '1BMATS101', '1BEIT105', 'Tea', '1BPHYS102', '1BESC104D', 'Lunch', 'TUT', 'SPORTS', '-'],
                    ['FRI', '1BMATS101', '1BEIT105', 'Tea', '1BPHYS102-A3 / 1BPOPL107-A1', '-', 'Lunch', '1BESC104D', '1BPHYS102', '-'],
                    ['SAT', '1BDTL158-LAB', '-', 'Tea', '-', '-', 'Lunch', '-', '-', '-']
                ]
            },
            B: {
                name: 'Classroom B',
                room: 'A-114',
                stream: 'CSE (Physics)',
                coordinator: 'Faculty B',
                students: [
                    'B01 Amruta R Jadhav', 'B02 Anil Bundi', 'B03 Anjali R Uppin', 'B04 Annapurna S Barker',
                    'B05 Anush Warad', 'B06 Anusha A Happali', 'B07 Aryan Budke', 'B08 Bibi Zohara Hundekar',
                    'B09 Chetan Kenchappanavar', 'B10 Divyashree V Koti', 'B11 Harshita R Joshi', 'B12 Kartik G Bhoopali',
                    'B13 Kavya Mendem', 'B14 Laxmi Hallad', 'B15 Laxmi Hosamani', 'B16 Mandar Sugandhi',
                    'B17 Mehnaaz U Ilal', 'B18 Mithun Gowda H S', 'B19 Mohammed Ali Khatib', 'B20 Mohammed Raza Bagalkot',
                    'B21 Naveensingh G Shiggatti', 'B22 Neelamma D Madar', 'B23 Netra', 'B24 Panchami Shetty',
                    'B25 Pavan B Channagoudra', 'B26 Pavan Sinu Lamani', 'B27 Pavitra A Amaravati', 'B28 Poorvi P Kulkarni',
                    'B29 Prarthana S Bandiwad', 'B30 Prateek Daihande', 'B31 Pratham Katwe', 'B32 Ranjeeta',
                    'B33 Sarvesh M Unkal', 'B34 Shankargouda Patil', 'B35 Shantavva C Keriyavar', 'B36 Shashidhar B Madiwalar',
                    'B37 Shivaganga A Mannikeri', 'B38 Shreya Lukk', 'B39 Shreya S Ari', 'B40 Shreyas Hunasimarad',
                    'B41 Shrilakshmi V Payagond', 'B42 Shrinidhi N Gangur', 'B43 Shruti Mandekar', 'B44 Siddesh S Hiremath',
                    'B45 Siddu Sulibhavi', 'B46 Sneha C P', 'B47 Soumya M Damodar', 'B48 Srujan Hariwal',
                    'B49 Suhas A Masalaji', 'B50 Suma S Mathapati', 'B51 Suresh Ballary', 'B52 Tanuja Channanavar',
                    'B53 Trupti M Mirje', 'B54 Vaibhav G Harti', 'B55 Vaishnavi Biradar Patil', 'B56 Vedika Vernekar',
                    'B57 Vinayak Guddin'
                ],
                timetable: [
                    ['MON', '1BEIT105', '1BPHYS102', 'Tea', '1BMATS101', '1BESC104D', 'Lunch', '1BMATS101-LAB', '-', '-'],
                    ['TUE', '1BCEDS103', '-', 'Tea', '1BESC104D', '1BPHYS102', 'Lunch', '1BPHYS102-B1 / 1BPOPL107-B2', '-', '-'],
                    ['WED', '1BMATS101', '1BEIT105', 'Tea', '1BPHYS102-B2 / 1BPOPL107-B3', '-', 'Lunch', '1BKSK109 / 1BKBK109', '-', '-'],
                    ['THU', '1BPHYS102', '1BESC104D', 'Tea', '1BEIT105', '1BMATS101', 'Lunch', '1BCEDS103', '-', '-'],
                    ['FRI', '1BMATS101', '1BESC104D', 'Tea', '1BDTL158-LAB', '-', 'Lunch', '1BPHYS102-B3 / 1BPOPL107-B1', '-', '-'],
                    ['SAT', '1BEIT105', '1BPHYS102', 'Tea', '1BCEDS103', '-', 'Lunch', 'SPORTS', '-', '-']
                ]
            },
            C: {
                name: 'Classroom C',
                room: 'A-115',
                stream: 'CSE (Physics Group)',
                coordinator: 'Dr. Devi Gole',
                students: [
                    'C01 Akshata G Govanakoppa', 'C02 Ankitha U Kotni', 'C03 Apeksha', 'C04 Arjumand Ashekhan',
                    'C05 Ayesha Banu N Nadaf', 'C06 Babakhan P Musafir', 'C07 Bhagyashree', 'C08 Bhoomika Mathapati',
                    'C09 C H Sanjana', 'C10 Cecil F Kudali', 'C11 Chinmay Hipparagi', 'C12 Deepa B Halawar',
                    'C13 Dhanashri R Umadi', 'C14 Farheen Dharwad', 'C15 Honey S Gokavi', 'C16 Kavya S Chavan',
                    'C17 Keerthan M Soratur', 'C18 Mahantesh A Gulagannavar', 'C19 Megha Kamu Gangai', 'C20 Mercy D Souza',
                    'C21 Mohammed Aiyan Bijapur', 'C22 Mohammed Huzaif Mulla', 'C23 Mohammed Saad Shaikh', 'C24 Md Saquib Kallimani',
                    'C25 Mohammed Zaid Mulla', 'C26 Mohammad Z Sundke', 'C27 Mohmedtoufiq Nadaf', 'C28 Muttu S Mudennavar',
                    'C29 Nikhatgul Bagban', 'C30 Niveditha Nasalayi', 'C31 Niyaz Modinsab Mulla', 'C32 Nosina Ryan',
                    'C33 Prashant M Kamble', 'C34 Pratiksha Koliwad', 'C35 Preetam A Negalur', 'C36 Purnima M Mali',
                    'C37 Rabbani', 'C38 Rajeshwari H Valikar', 'C39 Rehan S Mithaigar', 'C40 Rekha',
                    'C41 Rishikesh N Kubasad', 'C42 Sandhyarani Katti', 'C43 Shraddha R Pujari', 'C44 Shreya S Chougali',
                    'C45 Shrishail S Muttur', 'C46 Skanda S Malemath', 'C47 Spurti H Meti', 'C48 Sthuti Prashamsa Kariyar',
                    'C49 Stuti N Goudar', 'C50 Suhani R Wali', 'C51 Sujan S Pujari', 'C52 Swathi Bhavikatti',
                    'C53 Syed Yakob Zaidan', 'C54 Tazmeen Naaz Peerzade', 'C55 Vidya J Karimanni', 'C56 Vinay Pujar',
                    'C57 Vishwanath Salagond', 'C58 Vittal Arasidda', 'C59 Yash Patil'
                ],
                timetable: [
                    ['MON', '1BPHYS102', '1BMATS101', 'Tea', '1BESC104D', '1BEIT105', 'Lunch', '1BKSK109 / 1BKBK109', 'TUT', 'SPORTS'],
                    ['TUE', '1BEIT105', '1BPHYS102', 'Tea', '1BPHYS102-C1 / 1BPOPL107-C2', '-', 'Lunch', '-', '1BCEDS103', '-'],
                    ['WED', '1BMATS101', '1BESC104D', 'Tea', '1BMATS101', '1BPHYS102', 'Lunch', '1BPHYS102-C2 / 1BPOPL107-C3', '-', '-'],
                    ['THU', '1BCEDS103', '-', 'Tea', '1BPHYS102-C3 / 1BPOPL107-C1', '-', 'Lunch', '1BEIT105', '1BESC104D', 'TUT'],
                    ['FRI', '1BMATS101-LAB', '-', 'Tea', '1BESC104D', '1BEIT105', 'Lunch', '-', '1BDTL158-LAB', '-'],
                    ['SAT', '1BCEDS103', '1BMATS101', 'Tea', '1BPHYS102', '1BSKS106', 'Lunch', '-', '-', '-']
                ]
            },
            D: {
                name: 'Classroom D',
                room: 'A-116',
                stream: 'AIML (Chemistry Group)',
                coordinator: 'Faculty D',
                students: [
                    'D01 Aiman Jeralbhavi', 'D02 Abhishek', 'D03 Aditi Gudi', 'D04 Aditya G Sulakhe',
                    'D05 Aishwarya', 'D06 Amruta H Lakkundi', 'D07 Amulya V Shettar', 'D08 Anirudh Malagi',
                    'D09 Ahum Taraz Tumminkatti', 'D10 Bhagyashree P Mangalur', 'D11 Bheemappa Talawar', 'D12 Bhoomika Jadhav',
                    'D13 Chaitra Hiremath', 'D14 Droof', 'D15 Eshan U Patil', 'D16 Firdausa Rahut',
                    'D17 G Ram', 'D18 Ganesh H Anad', 'D19 Gita Reddy', 'D20 H B Adithya', 'D21 Jyoti B Akkisagar',
                    'D22 Krutika R Bhushannavar', 'D23 Laxmi A Langoti', 'D24 Michael John Dhawale', 'D25 Misbah A Thaned',
                    'D26 Mohammed A Shirahatti', 'D27 Mohammed Gouse Shaikh', 'D28 Mohiyuddin H Tatagar', 'D29 Mustarin Banu Hesarur',
                    'D30 Neeta B Choudhari', 'D31 Pallavi V Pandre', 'D32 Pavitra', 'D33 Pradnya S Kamble',
                    'D34 Pragati M Sanikoppa', 'D35 Pragati S Kougajeri', 'D36 Prashant D Madennavar', 'D37 Prateeksha Tadas',
                    'D38 Prathamesh P Vaingade', 'D39 Pratibha Kariyar', 'D40 Praveen S Odeyar', 'D41 Priyanka V Katageri',
                    'D42 Rehan I Kittur', 'D43 Sangamesh Konanavar', 'D44 Sanika U Jadhav', 'D45 Sanket S Mutnale',
                    'D46 Satvik S Anekar', 'D47 Sayeda Azra Inamdar', 'D48 Shashank Joshi', 'D49 Shaziya I Inamdar',
                    'D50 Shivaprasad Hiremath', 'D51 Shreeya S Kurthakoti', 'D52 Shreyas R Arwal', 'D53 Siddharth S Sable',
                    'D54 Siddu Dandin', 'D55 Soumya C Malapur', 'D56 Srushti Kurthakoti', 'D57 Srushti P Naik',
                    'D58 Suhapari', 'D59 Suhas B Nagashetti', 'D60 Sumaya A Joramannavar', 'D61 Sumant S Chavan',
                    'D62 Vivek Hiremath', 'D63 Zeba Kanakudti'
                ],
                timetable: [
                    ['MON', '1BMATS101', '1BAIA103', 'Tea', '1BCHES102', '1BENGL106', 'Lunch', '1BCHES102-D1', '-', '-'],
                    ['TUE', '1BESC104A', '1BMATS101', 'Tea', '1BESC104A', '1BPLC105B', 'Lunch', '1BCHES102-D2', '-', '-'],
                    ['WED', '1BAIA103', '1BCHES102', 'Tea', '1BPLC105B-LAB', '-', 'Lunch', '1BESC104A', '1BPLC105B', 'SPORTS'],
                    ['THU', '1BCHES102', '1BMATS101', 'Tea', '1BPLC105B', '1BICO107', 'Lunch', '1BDTL158-LAB', '-', '-'],
                    ['FRI', '1BCHES102', '1BAIA103', 'Tea', '1BCHES102-D3', '-', 'Lunch', '1BMATS101-LAB', '-', '-'],
                    ['SAT', '1BAIA103', '1BMATS101', 'Tea', '1BESC104A', '1BPLC105B', 'Lunch', 'TUT', '-', '-']
                ]
            },
            E: {
                name: 'Classroom E',
                room: 'A-117',
                stream: 'ECE (Chemistry Group)',
                coordinator: 'Faculty E',
                students: [
                    'E01 Adarsh A Pavin', 'E02 Akash Y Madabhavi', 'E03 Akshata Rolli', 'E04 Amrutha S Bakale',
                    'E05 Anchula Winston Snehi', 'E06 Ankit T Karmakar', 'E07 Anuja Jahagirdar', 'E08 Bheemaraddi R H',
                    'E09 Bhoomika K Pawar', 'E10 Bushra Taaj', 'E11 Chinmay U Pechalang', 'E12 Dayanand R Raikar',
                    'E13 Divya Jadhav', 'E14 Filza Bankapur', 'E15 Harshita S Kaller', 'E16 Kasiragouda Umannavar',
                    'E17 Kavana', 'E18 Krutika U Kadadallimath', 'E19 Mallikarjun M Akki', 'E20 Mehak Taj Jamadar',
                    'E21 Musa A Bidiwale', 'E22 Neha A Patil', 'E23 Nikhat Navlur', 'E24 Niranjan J Hiremath',
                    'E25 Pavankumar B Belagali', 'E26 Prachi Gaikwad', 'E27 Prajna Gaikwad', 'E28 Prajwal N',
                    'E29 Prashant P Gonabal', 'E30 Rajata Divate', 'E31 Ravi Tarki', 'E32 Samarth B Mahendrakar',
                    'E33 Samarth G Ichageri', 'E34 Sangamitra Singe', 'E35 Satvik Pandurangi', 'E36 Shaheed R Bengeri',
                    'E37 Shifa M Bidikar', 'E38 Shivani P Shetti', 'E39 Shraddha S Gurlhosur', 'E40 Shravya A Vaidya',
                    'E41 Shreya S Shet', 'E42 Shrujan N Salunke', 'E43 Siddharth Shetti', 'E44 Srishti D Phugund',
                    'E45 Sujan A Dollin', 'E46 Swami Samarth Yaligar', 'E47 Swapna R Bharenavar', 'E48 Swayam R B',
                    'E49 Vaishnavi U Rao', 'E50 Veeresh K Mathapathi', 'E51 Vinay D Ballari', 'E52 Vinay S Teli',
                    'E53 Yashraj Y Saidapur', 'E54 Yashwant Hosamani'
                ],
                timetable: [
                    ['MON', '1BMATE101', '1BICO107', 'Tea', '1BAIA103', '1BAIA103', 'Lunch', '1BESC104D', '1BPLC105E', 'TUT'],
                    ['TUE', '1BCHEE102', '1BPLC105E', 'Tea', '1BCHEE102-E1', '-', 'Lunch', '1BAIA103', '1BESC104D', 'SPORTS'],
                    ['WED', '1BCHEE102', '1BMATE101', 'Tea', '1BCHEE102-E2', '-', 'Lunch', '1BESC104D', '1BENGL106', '-'],
                    ['THU', '1BPLC105E', '1BCHEE102', 'Tea', '1BMATE101-LAB', '-', 'Lunch', '1BCHEE102-E3', '-', '-'],
                    ['FRI', '1BPLC105E-LAB', '-', 'Tea', '1BMATE101', '1BPLC105E', 'Lunch', '1BDTL158-LAB', '-', '-'],
                    ['SAT', '1BESC104D', '1BCHEE102', 'Tea', '1BAIA103', '1BMATE101', 'Lunch', 'TUT', '-', '-']
                ]
            },
            F: {
                name: 'Classroom F',
                room: 'A-118',
                stream: 'CV/ME (Chemistry Group)',
                coordinator: 'Faculty F',
                students: [
                    'F01 Aftab Hussain Mummigatti', 'F02 Akshata P Lamani', 'F03 Alok M Talwar', 'F04 Bharamagouda Patil',
                    'F05 Hardik M Patel', 'F06 M C Vaishnavi', 'F07 Mohammad Yaseen M Saiddalli', 'F08 Mohammed Adil Nadaf',
                    'F09 Mohammed Iliyas S Nadaf', 'F10 Mohammed Ziya UR Rehman', 'F11 Moulasab H Navalagund', 'F12 Muhammed Huzaifa',
                    'F13 Nikhil B Ummarji', 'F14 Sareen Marhaba Jagirdar', 'F15 Sayed Anas Ahmed Chagan', 'F16 Sayed Rimaz Ahmed',
                    'F17 Shreyas S Albal', 'F18 Zhoom P Modi', 'F19 Bharath Morab', 'F20 Kiran M Parasannavar',
                    'F21 Laxmikant R Tattinni', 'F22 Muddasu Nihal', 'F23 Pavankumar Kalled', 'F24 Premkumar S Koppal',
                    'F25 Pritam Anadinni', 'F26 Rahul P Mohite', 'F27 Rakshita P Mohite', 'F28 Sandeep Y Walikar',
                    'F29 Shivakumar S Patil', 'F30 Vikit R Rathod', 'F31 Vinay B Karaguli', 'F32 Vishwas Patil'
                ],
                timetable: [
                    ['MON', '1BMATE101', '1BICO107', 'Tea', '1BAIA103', '1BAIA103', 'Lunch', '1BESC104D', '1BPLC105E', 'TUT'],
                    ['TUE', '1BCHEE102', '1BPLC105E', 'Tea', '1BCHEE102-F1', '-', 'Lunch', '1BAIA103', '1BESC104D', 'SPORTS'],
                    ['WED', '1BCHEE102', '1BMATE101', 'Tea', '1BCHEE102-F2', '-', 'Lunch', '1BESC104D', '1BENGL106', '-'],
                    ['THU', '1BPLC105E', '1BCHEE102', 'Tea', '1BMATE101-LAB', '-', 'Lunch', '1BCHEE102-F3', '-', '-'],
                    ['FRI', '1BPLC105E-LAB', '-', 'Tea', '1BMATE101', '1BPLC105E', 'Lunch', '1BDTL158-LAB', '-', '-'],
                    ['SAT', '1BESC104D', '1BCHEE102', 'Tea', '1BAIA103', '1BMATE101', 'Lunch', 'TUT', '-', '-']
                ]
            }
        };

        // Global Variables
        let currentClassroom = 'A';
        let attendanceData = JSON.parse(localStorage.getItem('attendix_attendance')) || {};
        const motivationQuotes = [
            "Success is not final, failure is not fatal: It is the courage to continue that counts.",
            "The future belongs to those who believe in the beauty of their dreams.",
            "Don't watch the clock; do what it does. Keep going.",
            "The only way to do great work is to love what you do.",
            "Believe you can and you're halfway there.",
            "Your time is limited, don't waste it living someone else's life.",
            "The harder you work for something, the greater you'll feel when you achieve it.",
            "Dream big and dare to fail.",
            "Education is the most powerful weapon which you can use to change the world.",
            "The secret of getting ahead is getting started.",
            "Don't be afraid to give up the good to go for the great.",
            "I find that the harder I work, the more luck I seem to have.",
            "Success is walking from failure to failure with no loss of enthusiasm.",
            "The only place where success comes before work is in the dictionary.",
            "You are never too old to set another goal or to dream a new dream.",
            "The way to get started is to quit talking and begin doing.",
            "Your attitude, not your aptitude, will determine your altitude.",
            "It does not matter how slowly you go as long as you do not stop.",
            "The best time to plant a tree was 20 years ago. The second best time is now.",
            "Don't let yesterday take up too much of today."
        ];

        const books = [{
            title: "Introduction to Algorithms",
            author: "Thomas H. Cormen",
            category: "Computer Science"
        }, {
            title: "Clean Code",
            author: "Robert C. Martin",
            category: "Programming"
        }, {
            title: "The Pragmatic Programmer",
            author: "Andrew Hunt",
            category: "Programming"
        }, {
            title: "Design Patterns",
            author: "Erich Gamma",
            category: "Software Engineering"
        }, {
            title: "Artificial Intelligence: A Modern Approach",
            author: "Stuart Russell",
            category: "AI"
        }, {
            title: "Structure and Interpretation of Computer Programs",
            author: "Harold Abelson",
            category: "Computer Science"
        }, {
            title: "Database System Concepts",
            author: "Abraham Silberschatz",
            category: "Databases"
        }, {
            title: "Computer Networks",
            author: "Andrew S. Tanenbaum",
            category: "Networking"
        }, {
            title: "Operating System Concepts",
            author: "Abraham Silberschatz",
            category: "Operating Systems"
        }, {
            title: "The C Programming Language",
            author: "Brian W. Kernighan",
            category: "Programming"
        }, {
            title: "Code Complete",
            author: "Steve McConnell",
            category: "Software Engineering"
        }, {
            title: "Refactoring",
            author: "Martin Fowler",
            category: "Software Engineering"
        }, {
            title: "You Don't Know JS",
            author: "Kyle Simpson",
            category: "JavaScript"
        }, {
            title: "The Mythical Man-Month",
            author: "Frederick Brooks",
            category: "Software Engineering"
        }, {
            title: "Quantum Computation and Quantum Information",
            author: "Michael Nielsen",
            category: "Quantum Computing"
        }];

        // Initialize the application
        function init() {
            createStars();
            createMeteors();
            setupCursor();
            setupRippleEffect();
            updateClock();
            setInterval(updateClock, 1000);
            loadMotivationCards();
            loadBookCards();
            loadHomeStats();
            showPage('home');
            loadWeatherData();

            // Load all classroom pages
            Object.keys(classroomsData).forEach(loadClassroomPage);
        }

        // Create animated stars
        function createStars() {
            const starfield = document.getElementById('starfield');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starfield.appendChild(star);
            }
        }

        // Create shooting meteors
        function createMeteors() {
            const starfield = document.getElementById('starfield');
            for (let i = 0; i < 5; i++) {
                const meteor = document.createElement('div');
                meteor.className = 'meteor';
                meteor.style.left = Math.random() * 100 + '%';
                meteor.style.top = Math.random() * 20 + '%';
                meteor.style.animationDelay = Math.random() * 5 + 's';
                starfield.appendChild(meteor);
            }
        }

        // Setup custom cursor
        function setupCursor() {
            const cursor = document.getElementById('cursor');
            const cursorTrail = document.getElementById('cursorTrail');

            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';

                setTimeout(() => {
                    cursorTrail.style.left = e.clientX + 'px';
                    cursorTrail.style.top = e.clientY + 'px';
                }, 100);
            });

            document.addEventListener('click', () => {
                cursor.style.transform = 'scale(0.8)';
                setTimeout(() => {
                    cursor.style.transform = 'scale(1)';
                }, 100);
            });
        }

        // Setup ripple effect
        function setupRippleEffect() {
            document.addEventListener('click', function(e) {
                const ripple = document.createElement('div');
                ripple.className = 'ripple';
                ripple.style.left = e.clientX + 'px';
                ripple.style.top = e.clientY + 'px';
                document.body.appendChild(ripple);

                // Play click sound
                document.getElementById('clickSound').currentTime = 0;
                document.getElementById('clickSound').play().catch(() => {});

                setTimeout(() => ripple.remove(), 600);
            });
        }

        // Update clock
        function updateClock() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString();
            const dateStr = now.toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            document.querySelectorAll('.clock-time').forEach(el => {
                el.textContent = timeStr;
            });

            document.querySelectorAll('.clock-date').forEach(el => {
                el.textContent = dateStr;
            });

            updateCurrentClassHighlight();
        }

        // Load motivation cards
        function loadMotivationCards() {
            const container = document.getElementById('motivationScroll');
            container.innerHTML = '';

            // Duplicate quotes for seamless scrolling
            const allQuotes = [...motivationQuotes, ...motivationQuotes];

            allQuotes.forEach(quote => {
                const card = document.createElement('div');
                card.className = 'motivation-card';
                card.innerHTML = `<p>${quote}</p>`;
                container.appendChild(card);
            });
        }

        // Load book cards
        function loadBookCards() {
            const container = document.getElementById('bookGrid');
            container.innerHTML = '';

            books.forEach(book => {
                const card = document.createElement('div');
                card.className = 'book-card';
                card.innerHTML = `
                    <h4>${book.title}</h4>
                    <p style="color: var(--neon-pink); margin: 10px 0;">${book.author}</p>
                    <small style="color: var(--neon-blue);">${book.category}</small>
                `;
                container.appendChild(card);
            });
        }

        // Load home statistics
        function loadHomeStats() {
            let totalStudents = 0;
            let totalPresent = 0;

            Object.values(classroomsData).forEach(classroom => {
                totalStudents += classroom.students.length;
            });

            // Calculate attendance from localStorage
            const today = new Date().toDateString();
            Object.keys(attendanceData).forEach(classroom => {
                if (attendanceData[classroom][today]) {
                    Object.values(attendanceData[classroom][today]).forEach(present => {
                        if (present) totalPresent++;
                    });
                }
            });

            const percentage = totalStudents > 0 ? Math.round((totalPresent / totalStudents) * 100) : 0;

            document.getElementById('totalStudents').textContent = totalStudents;
            document.getElementById('presentToday').textContent = totalPresent;
            document.getElementById('attendancePercent').textContent = percentage + '%';
        }

        // Show page function
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            const page = document.getElementById(pageId);
            page.classList.add('active');

            // Load classroom page if needed
            if (pageId !== 'home' && pageId !== 'admin' && page.innerHTML === '') {
                currentClassroom = pageId.replace('class', '');
                loadClassroomPage(currentClassroom);
            }

            // Update active nav button
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.style.opacity = '0.7';
            });
            event.target.style.opacity = '1';
        }

        // Load classroom page
        function loadClassroomPage(classroomId) {
            const classroom = classroomsData[classroomId];
            if (!classroom) return;

            const page = document.getElementById(`class${classroomId}`);
            const today = new Date().toDateString();

            // Initialize attendance data for today if not exists
            if (!attendanceData[classroomId]) {
                attendanceData[classroomId] = {};
            }
            if (!attendanceData[classroomId][today]) {
                attendanceData[classroomId][today] = {};
                classroom.students.forEach(student => {
                    const rollNo = student.split(' ')[0];
                    attendanceData[classroomId][today][rollNo] = true; // Default: Present
                });
                saveAttendanceData();
            }

            page.innerHTML = `
                <div class="glass-container">
                    <div class="classroom-info">
                        <div class="info-item">
                            <span class="info-label">Classroom</span>
                            <span class="info-value">${classroom.name}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Room</span>
                            <span class="info-value">${classroom.room}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Stream</span>
                            <span class="info-value">${classroom.stream}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Coordinator</span>
                            <span class="info-value">${classroom.coordinator}</span>
                        </div>
                    </div>
                    
                    <div class="action-btns">
                        <button class="action-btn" onclick="markAllPresent('${classroomId}')">Mark All Present</button>
                        <button class="action-btn" onclick="markAllAbsent('${classroomId}')">Mark All Absent</button>
                        <button class="action-btn" onclick="exportAttendance('${classroomId}')">Export CSV</button>
                        <button class="action-btn" onclick="saveAttendance('${classroomId}')">Save Attendance</button>
                    </div>
                    
                    <div class="clock-widget">
                        <div class="clock-time">${new Date().toLocaleTimeString()}</div>
                        <div class="clock-date">${new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</div>
                    </div>
                    
                    <div class="weather-widget" id="weather${classroomId}">
                        Loading weather...
                    </div>
                    
                    <input type="text" class="search-box" placeholder="Search students..." oninput="searchStudents('${classroomId}', this.value)" />
                    
                    <div class="student-list" id="studentList${classroomId}">
                        ${generateStudentList(classroomId)}
                    </div>
                    
                    <h3 style="margin-top: 30px;">Weekly Timetable</h3>
                    <div class="timetable">
                        ${generateTimetable(classroomId)}
                    </div>
                </div>
            `;

            updateClassroomStats(classroomId);
        }

        // Generate student list HTML
        function generateStudentList(classroomId) {
            const classroom = classroomsData[classroomId];
            const today = new Date().toDateString();
            const attendanceToday = attendanceData[classroomId] ? .[today] || {};

            return classroom.students.map(student => {
                const rollNo = student.split(' ')[0];
                const isPresent = attendanceToday[rollNo] !== false; // Default to true if not set

                return `
                    <div class="student-item">
                        <div class="student-info">
                            <div class="student-roll">${rollNo}</div>
                            <div>${student}</div>
                        </div>
                        <button class="attendance-btn ${isPresent ? '' : 'absent'}" 
                                onclick="toggleAttendance('${classroomId}', '${rollNo}')">
                            ${isPresent ? 'PRESENT' : 'ABSENT'}
                        </button>
                    </div>
                `;
            }).join('');
        }

        // Generate timetable HTML
        function generateTimetable(classroomId) {
            const classroom = classroomsData[classroomId];
            const headers = ['Day', '8:30-9:30', '9:30-10:30', '10:30-10:45', '10:45-11:45',
                '11:45-12:45', '12:45-1:30', '1:30-2:20', '2:20-3:10', '3:10-4:00'
            ];

            let html = '<table>';

            // Header row
            html += '<thead><tr>';
            headers.forEach(header => {
                html += `<th>${header}</th>`;
            });
            html += '</tr></thead>';

            // Body rows
            html += '<tbody>';
            classroom.timetable.forEach(row => {
                html += '<tr>';
                row.forEach((cell, cellIndex) => {
                    const isLab = cell.includes('LAB') || cell.includes('/');
                    const isCurrent = isCurrentClass(row[0], cellIndex);
                    const cellClass = isLab ? 'lab-class' : (isCurrent ? 'current-class' : '');

                    html += `<td class="${cellClass}" title="${getFacultyInfo(cell)}">${cell}</td>`;
                });
                html += '</tr>';
            });
            html += '</tbody></table>';

            return html;
        }

        // Check if this is the current class
        function isCurrentClass(day, timeSlot) {
            const now = new Date();
            const currentDay = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'][now.getDay()];
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();

            if (currentDay !== day) return false;

            // Simplified time check - in real app, you'd map time slots to actual hours
            const timeSlots = [
                [8, 30],
                [9, 30],
                [10, 30],
                [10, 45],
                [11, 45],
                [12, 45],
                [13, 30],
                [14, 20],
                [15, 10]
            ];

            if (timeSlot < 1 || timeSlot >= timeSlots.length) return false;

            const [slotHour, slotMinute] = timeSlots[timeSlot];
            const nextSlot = timeSlots[timeSlot + 1] || [slotHour + 1, slotMinute];

            return currentHour >= slotHour &&
                (currentHour < nextSlot[0] || (currentHour === nextSlot[0] && currentMinute < nextSlot[1]));
        }

        // Update current class highlight
        function updateCurrentClassHighlight() {
            document.querySelectorAll('.timetable td').forEach(td => {
                td.classList.remove('current-class');
            });

            // Re-highlight current classes
            Object.keys(classroomsData).forEach(classroomId => {
                const classroom = classroomsData[classroomId];
                classroom.timetable.forEach((row, rowIndex) => {
                    row.forEach((cell, cellIndex) => {
                        if (isCurrentClass(row[0], cellIndex)) {
                            const table = document.querySelector(`#class${classroomId} .timetable table`);
                            if (table) {
                                const td = table.rows[rowIndex + 1] ? .cells[cellIndex];
                                if (td) {
                                    td.classList.add('current-class');
                                }
                            }
                        }
                    });
                });
            });
        }

        // Get faculty info for tooltip
        function getFacultyInfo(subjectCode) {
            const facultyMap = {
                '1BMATS101': 'Faculty: Dr. Smith | Room: B-201',
                '1BPHYS102': 'Faculty: Dr. Johnson | Room: B-202',
                '1BCEDS103': 'Faculty: Prof. Williams | Room: B-203',
                '1BESC104D': 'Faculty: Dr. Brown | Room: B-204',
                '1BEIT105': 'Faculty: Prof. Davis | Room: B-205',
                '1BSKS106': 'Faculty: Dr. Miller | Room: B-206',
                '1BPOPL107': 'Faculty: Prof. Wilson | Room: Lab-1',
                '1BDTL158': 'Faculty: Dr. Moore | Room: Lab-2',
                '1BKSK109': 'Faculty: Prof. Taylor | Room: B-207',
                '1BKBK109': 'Faculty: Dr. Anderson | Room: B-207',
                '1BAIA103': 'Faculty: Dr. Thomas | Room: B-208',
                '1BCHES102': 'Faculty: Prof. Jackson | Room: B-209',
                '1BENGL106': 'Faculty: Dr. White | Room: B-210',
                '1BESC104A': 'Faculty: Prof. Harris | Room: B-211',
                '1BPLC105B': 'Faculty: Dr. Martin | Room: B-212',
                '1BICO107': 'Faculty: Prof. Thompson | Room: B-213',
                '1BCHEE102': 'Faculty: Dr. Garcia | Room: B-214',
                '1BPLC105E': 'Faculty: Prof. Martinez | Room: B-215',
                '1BMATE101': 'Faculty: Dr. Robinson | Room: B-216'
            };

            return facultyMap[subjectCode] || 'Click for details';
        }

        // Toggle attendance status
        function toggleAttendance(classroomId, rollNo) {
            const today = new Date().toDateString();

            if (!attendanceData[classroomId]) {
                attendanceData[classroomId] = {};
            }
            if (!attendanceData[classroomId][today]) {
                attendanceData[classroomId][today] = {};
            }

            // Toggle attendance
            attendanceData[classroomId][today][rollNo] = !attendanceData[classroomId][today][rollNo];

            // Update button
            const button = event.target;
            if (attendanceData[classroomId][today][rollNo]) {
                button.textContent = 'PRESENT';
                button.classList.remove('absent');
            } else {
                button.textContent = 'ABSENT';
                button.classList.add('absent');
            }

            saveAttendanceData();
            updateClassroomStats(classroomId);
            loadHomeStats();

            showNotification('Attendance updated successfully!', 'success');
        }

        // Mark all students present
        function markAllPresent(classroomId) {
            const today = new Date().toDateString();
            const classroom = classroomsData[classroomId];

            if (!attendanceData[classroomId]) {
                attendanceData[classroomId] = {};
            }
            if (!attendanceData[classroomId][today]) {
                attendanceData[classroomId][today] = {};
            }

            classroom.students.forEach(student => {
                const rollNo = student.split(' ')[0];
                attendanceData[classroomId][today][rollNo] = true;
            });

            // Update UI
            document.querySelectorAll(`#studentList${classroomId} .attendance-btn`).forEach(btn => {
                btn.textContent = 'PRESENT';
                btn.classList.remove('absent');
            });

            saveAttendanceData();
            updateClassroomStats(classroomId);
            loadHomeStats();

            showNotification('All students marked as present!', 'success');
        }

        // Mark all students absent
        function markAllAbsent(classroomId) {
            const today = new Date().toDateString();
            const classroom = classroomsData[classroomId];

            if (!attendanceData[classroomId]) {
                attendanceData[classroomId] = {};
            }
            if (!attendanceData[classroomId][today]) {
                attendanceData[classroomId][today] = {};
            }

            classroom.students.forEach(student => {
                const rollNo = student.split(' ')[0];
                attendanceData[classroomId][today][rollNo] = false;
            });

            // Update UI
            document.querySelectorAll(`#studentList${classroomId} .attendance-btn`).forEach(btn => {
                btn.textContent = 'ABSENT';
                btn.classList.add('absent');
            });

            saveAttendanceData();
            updateClassroomStats(classroomId);
            loadHomeStats();

            showNotification('All students marked as absent!', 'error');
        }

        // Save attendance data to localStorage
        function saveAttendanceData() {
            localStorage.setItem('attendix_attendance', JSON.stringify(attendanceData));
        }

        // Export attendance as CSV
        function exportAttendance(classroomId) {
            const classroom = classroomsData[classroomId];
            const today = new Date().toDateString();
            const attendanceToday = attendanceData[classroomId] ? .[today] || {};

            let csv = 'Roll No,Name,Status,Date\n';

            classroom.students.forEach(student => {
                const rollNo = student.split(' ')[0];
                const name = student.substring(rollNo.length + 1);
                const status = attendanceToday[rollNo] !== false ? 'Present' : 'Absent';

                csv += `${rollNo},"${name}",${status},${today}\n`;
            });

            const blob = new Blob([csv], {
                type: 'text/csv'
            });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `attendance_${classroom.name}_${today}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            showNotification('Attendance exported successfully!', 'success');
        }

        // Update classroom statistics
        function updateClassroomStats(classroomId) {
            const classroom = classroomsData[classroomId];
            const today = new Date().toDateString();
            const attendanceToday = attendanceData[classroomId] ? .[today] || {};

            let presentCount = 0;
            let absentCount = 0;

            classroom.students.forEach(student => {
                const rollNo = student.split(' ')[0];
                if (attendanceToday[rollNo] !== false) {
                    presentCount++;
                } else {
                    absentCount++;
                }
            });

            // Update stats display if exists
            const statsElement = document.getElementById(`stats${classroomId}`);
            if (statsElement) {
                statsElement.innerHTML = `
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">${classroom.students.length}</div>
                            <p>Total Students</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">${presentCount}</div>
                            <p>Present Today</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">${absentCount}</div>
                            <p>Absent Today</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">${Math.round((presentCount / classroom.students.length) * 100)}%</div>
                            <p>Attendance</p>
                        </div>
                    </div>
                `;
            }
        }

        // Search students
        function searchStudents(classroomId, query) {
            const studentList = document.getElementById(`studentList${classroomId}`);
            const items = studentList.querySelectorAll('.student-item');

            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(query.toLowerCase())) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Load weather data
        function loadWeatherData() {
            // Mock weather data - in production, use a real weather API
            const weatherData = {
                temperature: '25C',
                condition: 'Partly Cloudy',
                humidity: '65%',
                wind: '12 km/h'
            };

            Object.keys(classroomsData).forEach(classroomId => {
                const weatherElement = document.getElementById(`weather${classroomId}`);
                if (weatherElement) {
                    weatherElement.innerHTML = `
                        <div style="text-align: center;">
                            <div style="font-size: 2em;">${weatherData.temperature}</div>
                            <div>${weatherData.condition}</div>
                            <div style="font-size: 0.8em; margin-top: 5px;">
                                Humidity: ${weatherData.humidity} | Wind: ${weatherData.wind}
                            </div>
                        </div>
                    `;
                }
            });
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.classList.add('show');
            }, 10);

            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Admin login
        function adminLogin() {
            const username = document.getElementById('adminUser').value;
            const password = document.getElementById('adminPass').value;

            if (username === 'adminmech' && password === 'adminmech') {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadAdminStats();
                showNotification('Admin login successful!', 'success');
            } else {
                showNotification('Invalid credentials!', 'error');
            }
        }

        // Admin logout
        function adminLogout() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('adminUser').value = '';
            document.getElementById('adminPass').value = '';
            showNotification('Logged out successfully!', 'success');
        }

        // Load admin statistics
        function loadAdminStats() {
            let totalStudents = 0;
            let totalRecords = 0;
            let totalPresent = 0;

            Object.values(classroomsData).forEach(classroom => {
                totalStudents += classroom.students.length;
            });

            // Calculate attendance data
            Object.keys(attendanceData).forEach(classroom => {
                Object.keys(attendanceData[classroom]).forEach(date => {
                    totalRecords++;
                    Object.values(attendanceData[classroom][date]).forEach(present => {
                        if (present) totalPresent++;
                    });
                });
            });

            const container = document.getElementById('adminStats');
            container.innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">${totalStudents}</div>
                        <p>Total Students</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${totalRecords}</div>
                        <p>Attendance Records</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${Math.round((totalPresent / (totalRecords * 50)) * 100)}%</div>
                        <p>Overall Attendance</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${Object.keys(attendanceData).length}</div>
                        <p>Active Classrooms</p>
                    </div>
                </div>
            `;
        }

        // Export all data
        function exportAllData() {
            const data = {
                classrooms: classroomsData,
                attendance: attendanceData,
                exportDate: new Date().toISOString()
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], {
                type: 'application/json'
            });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `attendix_backup_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            showNotification('All data exported successfully!', 'success');
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear all attendance data? This cannot be undone.')) {
                attendanceData = {};
                localStorage.removeItem('attendix_attendance');
                showNotification('All data cleared!', 'success');
                loadHomeStats();
                loadAdminStats();

                // Reload classroom pages
                Object.keys(classroomsData).forEach(loadClassroomPage);
            }
        }

        // Backup data
        function backupData() {
            localStorage.setItem('attendix_backup', JSON.stringify({
                attendance: attendanceData,
                timestamp: new Date().toISOString()
            }));
            showNotification('Data backed up successfully!', 'success');
        }

        // Toggle dark/light mode
        function toggleDarkMode() {
            document.body.classList.toggle('light-mode');
            const isLightMode = document.body.classList.contains('light-mode');
            showNotification(isLightMode ? 'Light mode activated!' : 'Dark mode activated!', 'success');
        }

        // Edit classroom
        function editClassroom() {
            const classroomId = document.getElementById('classroomSelect').value;
            showNotification(`Edit feature for ${classroomsData[classroomId].name} coming soon!`, 'success');
        }

        // Save attendance (explicit save)
        function saveAttendance(classroomId) {
            saveAttendanceData();
            showNotification('Attendance saved successfully!', 'success');
        }

        // Initialize on load
        window.addEventListener('load', init);
    </script>
</body>

</html>